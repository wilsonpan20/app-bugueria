{"ast":null,"code":"var _jsxFileName = \"/home/wilson/Documentos/projetoCursoReact/habugueria/src/Components/CartItem.js\",\n    _s = $RefreshSig$();\n\nimport { AddRounded, RemoveRounded } from \"@mui/icons-material\";\nimport React, { useEffect, useState } from \"react\";\nimport { actionType } from \"./reducer\";\nimport { useStateValue } from \"./StateProvider\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet cartItems = [];\n\nfunction CartItem(_ref) {\n  _s();\n\n  let {\n    itemId,\n    name,\n    imgSrc,\n    price\n  } = _ref;\n  const [qty, setQty] = useState(1);\n  const [itemPrice, setItemPrice] = useState(parseInt(qty) * parseFloat(price));\n  const [{\n    cart,\n    total\n  }, dispatch] = useStateValue();\n  useEffect(() => {\n    cartItems = cart;\n    setItemPrice(parseInt(qty) * parseFloat(price));\n  }, [qty]);\n\n  const updateQty = (action, id) => {\n    if (action == \"add\") {\n      setQty(qty + 1);\n    } else {\n      // initial state value is one so you need to check if 1 then remove it\n      if (qty == 1) {\n        cartItems.pop(id);\n        dispatch({\n          type: actionType.SET_CART,\n          cart: cartItems\n        });\n      } else {\n        setQty(qty - 1);\n        console.log(qty);\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"cartItem\",\n    id: itemId,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"imgBox\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: imgSrc,\n        alt: \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"itemSection\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"itemName\",\n        children: name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"itemQuantity\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"x \", qty]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"quantity\",\n          children: [/*#__PURE__*/_jsxDEV(RemoveRounded, {\n            className: \"itemRemove\",\n            onClick: () => updateQty(\"remove\", itemId)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(AddRounded, {\n            className: \"itemAdd\",\n            onClick: () => updateQty(\"add\", itemId)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"itemPrice\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"dolorSign\",\n        children: \"R$\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"itemPriceValue\",\n        children: itemPrice\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n}\n\n_s(CartItem, \"laExeHeOCPiAiar+G8Y2IuxE4P8=\", false, function () {\n  return [useStateValue];\n});\n\n_c = CartItem;\nexport default CartItem;\n\nvar _c;\n\n$RefreshReg$(_c, \"CartItem\");","map":{"version":3,"sources":["/home/wilson/Documentos/projetoCursoReact/habugueria/src/Components/CartItem.js"],"names":["AddRounded","RemoveRounded","React","useEffect","useState","actionType","useStateValue","cartItems","CartItem","itemId","name","imgSrc","price","qty","setQty","itemPrice","setItemPrice","parseInt","parseFloat","cart","total","dispatch","updateQty","action","id","pop","type","SET_CART","console","log"],"mappings":"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","sourcesContent":["import { AddRounded, RemoveRounded } from \"@mui/icons-material\";\nimport React, { useEffect, useState } from \"react\";\nimport { actionType } from \"./reducer\";\nimport { useStateValue } from \"./StateProvider\";\nlet cartItems = [];\n\nfunction CartItem({ itemId, name, imgSrc, price }) {\n  const [qty, setQty] = useState(1);\n  const [itemPrice, setItemPrice] = useState(parseInt(qty) * parseFloat(price));\n  const [{ cart, total }, dispatch] = useStateValue();\n\n  useEffect(() => {\n    cartItems = cart;\n    setItemPrice(parseInt(qty) * parseFloat(price));\n  }, [qty]);\n\n  const updateQty = (action, id) => {\n    if (action == \"add\") {\n      setQty(qty + 1);\n    } else {\n      // initial state value is one so you need to check if 1 then remove it\n      if (qty == 1) {\n        cartItems.pop(id);\n        dispatch({\n          type: actionType.SET_CART,\n          cart: cartItems,\n        });\n      } else {\n        setQty(qty - 1);\n        console.log(qty);\n      }\n    }\n  };\n\n  return (\n    <div className=\"cartItem\" id={itemId}>\n      <div className=\"imgBox\">\n        <img src={imgSrc} alt=\"\" />\n      </div>\n      <div className=\"itemSection\">\n        <h2 className=\"itemName\">{name}</h2>\n        <div className=\"itemQuantity\">\n          <span>x {qty}</span>\n          <div className=\"quantity\">\n            <RemoveRounded\n              className=\"itemRemove\"\n              onClick={() => updateQty(\"remove\", itemId)}\n            />\n            <AddRounded\n              className=\"itemAdd\"\n              onClick={() => updateQty(\"add\", itemId)}\n            />\n          </div>\n        </div>\n      </div>\n      <p className=\"itemPrice\">\n        <span className=\"dolorSign\">R$</span>{\" \"}\n        <span className=\"itemPriceValue\">{itemPrice}</span>\n      </p>\n    </div>\n  );\n}\n\nexport default CartItem;\n"]},"metadata":{},"sourceType":"module"}